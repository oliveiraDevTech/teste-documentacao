# ==============================================
# CONFIGURAÇÃO DO SISTEMA DE MICROSERVIÇOS
# ==============================================
# 
# Este arquivo serve como exemplo de configuração.
# Para usar:
# 1. Copie este arquivo para .env
# 2. Ajuste os valores conforme necessário
# 3. Execute: docker-compose up -d
#
# ==============================================

# ==============================================
# RABBITMQ CONFIGURATION
# ==============================================

RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# ==============================================
# JWT CONFIGURATION (COMPARTILHADO)
# ==============================================

JWT_SECRET=sua-chave-super-secreta-com-minimo-32-caracteres-para-producao-segura-jwt-2024
JWT_ISSUER=CadastroClientesApi
JWT_AUDIENCE=CadastroClientesApp
JWT_EXPIRATION_MINUTES=120
JWT_REFRESH_TOKEN_EXPIRATION_DAYS=7

# ==============================================
# CADASTRO CLIENTE SERVICE
# ==============================================

CADASTRO_PORT=5000
CADASTRO_DB_PATH=/app/data/cadastro_clientes.db

# RabbitMQ Queues - Cadastro Cliente
CADASTRO_QUEUE_CLIENTE_CADASTRADO=cliente.cadastrado
CADASTRO_QUEUE_ANALISE_CREDITO_COMPLETE=analise.credito.complete
CADASTRO_QUEUE_ANALISE_CREDITO_FALHA=analise.credito.falha
CADASTRO_QUEUE_CARTAO_EMITIDO=cartao.emitido
CADASTRO_QUEUE_CARTAO_EMISSAO_FALHA=cartao.emissao.falha

# Email Configuration (Opcional)
CADASTRO_EMAIL_ENABLED=false
CADASTRO_EMAIL_SMTP_HOST=smtp.gmail.com
CADASTRO_EMAIL_SMTP_PORT=587
CADASTRO_EMAIL_USERNAME=seu_email@gmail.com
CADASTRO_EMAIL_PASSWORD=sua_senha_app
CADASTRO_EMAIL_FROM_EMAIL=seu_email@gmail.com
CADASTRO_EMAIL_FROM_NAME=Sistema de Cadastro de Clientes
CADASTRO_EMAIL_USE_SSL=true

# ==============================================
# VALIDAÇÃO CRÉDITO SERVICE
# ==============================================

VALIDACAO_PORT=5002
VALIDACAO_DB_PATH=/app/data/validacao_credito.db

# RabbitMQ Queues - Validação Crédito
VALIDACAO_QUEUE_CLIENTE_CADASTRADO=cliente.cadastrado
VALIDACAO_QUEUE_ANALISE_CREDITO_COMPLETE=analise.credito.complete
VALIDACAO_QUEUE_ANALISE_CREDITO_FALHA=analise.credito.falha

# ==============================================
# EMISSÃO CARTÃO SERVICE
# ==============================================

EMISSAO_PORT=5001
EMISSAO_DB_PATH=/app/data/emissao_cartao.db

# RabbitMQ Queues - Emissão Cartão
EMISSAO_QUEUE_CARTAO_EMISSAO_PEDIDO=cartao.emissao.pedido
EMISSAO_QUEUE_CARTAO_EMITIDO=cartao.emitido
EMISSAO_QUEUE_CARTAO_EMISSAO_FALHA=cartao.emissao.falha

# ==============================================
# LOGGING CONFIGURATION
# ==============================================

LOG_LEVEL_DEFAULT=Information
LOG_LEVEL_MICROSOFT=Warning
LOG_LEVEL_MICROSOFT_ASPNETCORE=Warning

# ==============================================
# CACHE CONFIGURATION
# ==============================================

CACHE_TYPE=Memory
CACHE_DEFAULT_EXPIRATION_MINUTES=60
CACHE_SLIDING_EXPIRATION_MINUTES=30

# ==============================================
# DOCKER NETWORK
# ==============================================

NETWORK_NAME=microservices_network

# ==============================================
# DOCKER VOLUMES
# ==============================================

VOLUME_RABBITMQ_DATA=rabbitmq_data
VOLUME_CADASTRO_DATA=cadastro_data
VOLUME_CREDITO_DATA=credito_data
VOLUME_CARTAO_DATA=cartao_data
VOLUME_CADASTRO_LOGS=cadastro_logs
VOLUME_CREDITO_LOGS=credito_logs
VOLUME_CARTAO_LOGS=cartao_logs

# ==============================================
# HEALTH CHECK CONFIGURATION
# ==============================================

HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=5
HEALTHCHECK_START_PERIOD=60s

# ==============================================
# APPLICATION SETTINGS
# ==============================================

ASPNETCORE_ENVIRONMENT=Production

# ==============================================
# SECURITY NOTES
# ==============================================
#
# ⚠️ IMPORTANTE:
# 
# 1. NUNCA commite o arquivo .env com valores reais
# 2. Altere JWT_SECRET antes de usar em produção
# 3. Use senhas fortes para RabbitMQ em produção
# 4. Configure Email somente se necessário
# 5. Em produção, considere usar secrets management
#    (Azure Key Vault, AWS Secrets Manager, etc.)
#
# ==============================================
